<form *ngIf="done" class="vf-form" [formGroup]="metadataForm.formGroup" (submit)="onSubmit($event)">

  <mat-tab-group (selectedIndexChange)="onSelectedIndexChange($event)" [selectedIndex]="this.selectedTabIndex">
    <ng-container *ngFor="let tab of config.layout['tabs']">
      <mat-tab [label]="tab['title']">
        <div class="vf-u-margin__top--xxl vf-u-margin__bottom--xxl">
          <ng-container *ngFor="let item of tab['items']">
            <ng-container
              *ngIf="metadataForm.get(item)">
              <ng-container appMetadataField [id]="item" [metadata]="metadataForm.get(item)"
                            [control]="metadataForm.getControl(item)">

              </ng-container>
            </ng-container>
          </ng-container>
        </div>
      </mat-tab>
    </ng-container>
  </mat-tab-group>

  <ng-container *ngIf="!config.viewMode">
    <a (click)="confirmCancel($event)" class="vf-button vf-button--tertiary vf-button--sm">Cancel</a>
    <button class="vf-button vf-button--primary vf-button--sm">Save and Continue</button>
  </ng-container>
</form>
