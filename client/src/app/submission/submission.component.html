<script src="submission.component.ts"></script>
<script src="../shared/components/project/project.component.ts"></script>
<div class="container-fluid mat-typography">
  <br/>
  <div class="row">
    <div class="col-lg-12">
      <div class="d-flex justify-content-between">
        <h1 class="mat-headline">Submission</h1>
        <mat-chip-list selectable="false">
          <mat-basic-chip [ngClass]="getSubmissionStateChipClassName(submissionState)">{{submissionState}}</mat-basic-chip>
        </mat-chip-list>
      </div>
    </div>
  </div>
  <br/>
  <h3 class="subheading-2">{{projectName}}</h3>
  <br/>
  <div class="row">
    <div class="col-lg-12">
      <tabs>
       <tab [href]="'overview'" tabTitle="Overview"  [active]="activeTab == 'overview'" >
         <app-overview [project]="project" [projectId]="projectId" [submissionEnvelopeId]="submissionEnvelopeId"></app-overview>
       </tab>
        <tab [href]="'metadata'" tabTitle="Metadata" [active]="activeTab == 'metadata'">
          <app-metadata
            [projectId]="projectId"
            [submissionEnvelopeId]="submissionEnvelopeId"
            [samples]="samples"
            [assays]="assays"
            [protocols]="protocols"
            [analyses]="analyses"
            >
          </app-metadata>
        </tab>
        <tab [href]="'data'" tabTitle="Data" [active]="activeTab == 'data'" [disabled]="!submissionEnvelopeId">
          <app-files
            [submissionEnvelope]="submissionEnvelope"
            [submissionEnvelopeId]="submissionEnvelopeId" >
          </app-files>
        </tab>

        <tab [href]="'submit'" [disabled]="!isSubmittable" tabTitle="Submit" [active]="activeTab == 'submit'">
          <app-submit
            [submissionEnvelope$]="submissionEnvelope$"
            [submitLink]="submitLink"
            [isSubmitted]="isSubmitted"

            [submissionEnvelopeId]="submissionEnvelopeId">

          </app-submit>
        </tab>
      </tabs>

    </div>
  </div>
</div>

