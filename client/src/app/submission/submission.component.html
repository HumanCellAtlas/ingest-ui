<script src="submission.component.ts"></script>
<script src="../shared/components/project/project.component.ts"></script>
<div fxLayout="column" class="mat-typography">
  <div fxLayout="row" fxLayoutAlign="space-between center">
    <h1 class="mat-headline">Submission</h1>
    <mat-chip-list selectable="false">
      <mat-basic-chip [ngClass]="getSubmissionStateChipClassName(submissionState)">{{submissionState}}</mat-basic-chip>
    </mat-chip-list>
  </div>
  <div>
  <h3 class="subheading-2">{{projectName}}</h3>
    <mat-tab-group>
      <mat-tab label="Overview">
        <app-overview [project]="project" 
                      [projectId]="projectId" 
                      [submissionEnvelopeId]="submissionEnvelopeId">
        </app-overview>
      </mat-tab>
      <mat-tab label="Metadata">
        <app-metadata
                [projectId]="projectId"
                [submissionEnvelopeId]="submissionEnvelopeId"
                [samples]="samples"
                [assays]="assays"
                [protocols]="protocols"
                [analyses]="analyses"
        >
        </app-metadata>
      </mat-tab>
      <mat-tab label="Data" [disabled]="!submissionEnvelopeId">
        <app-files
                [submissionEnvelope]="submissionEnvelope"
                [submissionEnvelopeId]="submissionEnvelopeId" >
        </app-files>
      </mat-tab>
      <mat-tab label="Submit" [disabled]="!isSubmittable">
        <app-submit
                [submissionEnvelope$]="submissionEnvelope$"
                [submitLink]="submitLink"
                [isSubmitted]="isSubmitted"
              
                [submissionEnvelopeId]="submissionEnvelopeId">
        </app-submit>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>
