<div class="card" *ngIf="submissionEnvelopes || {}">
  <div>
    <table id="submissions" class="table">
      <thead class="thead-light">
      <tr>
        <th>Created</th>
        <th>Submission ID</th>
        <th>Project Name</th>
        <th>Project ID</th>
        <th>Status</th>
        <th>
        </th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let submissionEnvelope of submissionEnvelopes">
        <td>{{submissionEnvelope.submissionDate | date: "medium"}}</td>
        <td>
          <a routerLink="/submissions/detail/{{getSubmissionId(submissionEnvelope)}}/overview" class="text-info">{{getSubmissionId(submissionEnvelope)}}</a>
        </td>
        <td>{{getProjectName(submissionEnvelope)}}</td>
        <td>{{getProjectId(submissionEnvelope)}}</td>
        <td>
          <div [ngSwitch]="submissionEnvelope.submissionState">
            <span *ngSwitchCase="'Pending'" class="badge-in-list badge badge-pill badge-warning">{{submissionEnvelope.submissionState}}</span>
            <span *ngSwitchCase="'Draft'" class="badge-in-list badge badge-pill badge-warning">{{submissionEnvelope.submissionState}}</span>
            <span *ngSwitchCase="'Validating'" class="badge-in-list badge badge-pill badge-info">{{submissionEnvelope.submissionState}}</span>
            <span *ngSwitchCase="'Valid'" class="badge-in-list badge badge-pill badge-success">{{submissionEnvelope.submissionState}}</span>
            <span *ngSwitchCase="'Invalid'" class="badge-in-list badge badge-pill badge-danger">{{submissionEnvelope.submissionState}}</span>
            <span *ngSwitchCase="'Submitted'" class="badge-in-list badge badge-pill badge-secondary">{{submissionEnvelope.submissionState}}</span>
            <span *ngSwitchCase="'Processing'"
                  class="badge-in-list badge badge-pill border border-warning bg-light text-warning">{{submissionEnvelope.submissionState}}</span>
            <span *ngSwitchCase="'Cleanup'"
                  class="badge-in-list badge badge-pill border border-warning bg-light text-warning">{{submissionEnvelope.submissionState}}</span>
            <span *ngSwitchCase="'Complete'"
                  class="badge-in-list badge badge-pill border border-success bg-light text-success">{{submissionEnvelope.submissionState}}</span>
          </div>
        </td>
        <td>
          <form class="submission-form complete-form" action="submit" method="POST">
            <button *ngIf="getSubmitLink(submissionEnvelope)" class="btn btn-success btn-sm"
                    (click)="completeSubmission(submissionEnvelope)">
              Submit
            </button>
          </form>
        </td>
      </tr>
      <tr *ngIf="!submissionEnvelopes">
        <td>Loading your submissions...</td>
      </tr>
      <tr *ngIf="submissionEnvelopes && submissionEnvelopes.length === 0">
        <td>You do not currently have any submissions</td>
      </tr>
      </tbody>
    </table>
  </div>

  <div class="card-footer text-muted" *ngIf="currentPageInfo['totalPages'] > 1">
    <nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center" >

    <li class="bg-primary page-item" [class.disabled]="currentPageInfo['number'] == 0">
      <a class="bg-primary page-link" tabindex="-1" [routerLink]="['/submissions/list', addAndGetPageParams(currentPageInfo['number'])]">Previous</a>
    </li>
    <li class="bg-primary page-item {{currentPageInfo['number'] == pageItem ? 'active' : ''}}" *ngFor="let pageItem of createRange(currentPageInfo['totalPages'])">
      <a class="bg-primary page-link" [routerLink]="['/submissions/list', addAndGetPageParams(pageItem+1)]"   >{{pageItem + 1}}</a>
    </li>
    <li class="bg-primary page-item" [class.disabled]="currentPageInfo['number'] == (currentPageInfo['totalPages'] - 1)">
    <a class="bg-primary page-link" [routerLink]="['/submissions/list', addAndGetPageParams(currentPageInfo['number']+2)]"  >Next</a>
    </li>
    </ul>
    </nav>
    Showing {{currentPageInfo['start']}} - {{currentPageInfo['end']}} of {{currentPageInfo['totalElements']}} total records
  </div>
</div>

