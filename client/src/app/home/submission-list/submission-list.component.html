<ng-template #noData>No Data Available</ng-template>
<div class="card">
  <div class="card-header">Dashboard</div>
  <div>
    <table id="submissions" class="table table-striped" *ngIf="submissionEnvelopes$ | async as submissionEnvelopes else noData">
      <thead class="thead-light">
      <tr>
        <th>Updated</th>
        <th>Submission</th>
        <th>Project</th>
        <th>Status</th>
        <th></th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let submissionEnvelope of submissionEnvelopes">
        <td>{{submissionEnvelope.updateDate | date: "shortDate"}}</td>
        <td>
          <a routerLink="/submissions/{{submissionEnvelope?.uuid?.uuid}}" class="text-info" >{{submissionEnvelope?.uuid?.uuid}}</a>
        </td>
        <td>Tissue Stability</td>
        <td>
          <div [ngSwitch]="submissionEnvelope.submissionState">
            <span *ngSwitchCase="'Pending'" class="badge badge-warning">{{submissionEnvelope.submissionState}}</span>
            <span *ngSwitchCase="'Draft'" class="badge badge-warning">{{submissionEnvelope.submissionState}}</span>
            <span *ngSwitchCase="'Validating'" class="badge badge-info">{{submissionEnvelope.submissionState}}</span>
            <span *ngSwitchCase="'Valid'" class="badge badge-success">{{submissionEnvelope.submissionState}}</span>
            <span *ngSwitchCase="'Invalid'" class="badge badge-error">{{submissionEnvelope.submissionState}}</span>
            <span *ngSwitchCase="'Submitted'" class="badge badge-secondary">{{submissionEnvelope.submissionState}}</span>
            <span *ngSwitchCase="'Processing'" class="badge border border-warning bg-light text-warning">{{submissionEnvelope.submissionState}}</span>
            <span *ngSwitchCase="'Cleanup'" class="badge border border-warning bg-light text-warning">{{submissionEnvelope.submissionState}}</span>
            <span *ngSwitchCase="'Complete'" class="badge border border-success bg-light text-success">{{submissionEnvelope.submissionState}}</span>
          </div>
        </td>
        <td>
          <form class="submission-form complete-form" action="submit" method="POST">
              <button *ngIf="getSubmitLink(submissionEnvelope)" class="btn btn-success" (click)="completeSubmission(submissionEnvelope)">
                Complete submission
              </button>
          </form>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
  <div class="card-footer text-muted">
    <nav aria-label="Page navigation example">
      <ul class="pagination justify-content-center">
        <li class="page-item disabled">
          <a class="page-link" href="#" tabindex="-1">Previous</a>
        </li>
        <li class="page-item"><a class="page-link" href="#">1</a></li>
        <li class="page-item"><a class="page-link" href="#">2</a></li>
        <li class="page-item"><a class="page-link" href="#">3</a></li>
        <li class="page-item">
          <a class="page-link" href="#">Next</a>
        </li>
      </ul>
    </nav>
  </div>
</div>

