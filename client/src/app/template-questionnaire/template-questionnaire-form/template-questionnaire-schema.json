{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "additionalProperties": false,
  "description": "Information required about your experiments to trigger the creation of a metadata spreadsheet.",
  "name": "template-questionnaire",
  "properties": {
    "identifyingOrganisms": {
      "user_friendly": "What species are the donors of your experiment?",
      "guidelines": "This adds relevant species specific fields to the donor tab of the spreadsheet.",
      "type": "array",
      "items": {
        "type": "string"
      },
      "enum": [
        "Human",
        "Mouse",
        "Other"
      ]
    },
    "preNatalQuantity": {
      "user_friendly": "Are any of your donor samples pre-natal?",
      "guidelines": "If some donors are prenatal we add fields for capturing gestational age, if all are prenatal we remove fields for capturing organism age.",
      "type": "string",
      "example": "None",
      "enum": [
        "All",
        "Some",
        "None"
      ]
    },
    "donorsRelated": {
      "user_friendly": "Are any of your donors related to one another?",
      "guidelines": "Adds fields for capturing familial relationships, not required if none of your donors are human.",
      "example": "No",
      "type": "string",
      "enum": [
        "Yes",
        "No"
      ]
    },
    "specimenType": {
      "user_friendly": "What type of specimens did you use?",
      "guidelines": "Expands the available protocols you can can include in your experimental definition",
      "type": "array",
      "items": {
        "type": "string"
      },
      "enum": [
        "Primary Tissue",
        "Organoid",
        "Cell Line"
      ]
    },
    "specimenPurchased": {
      "user_friendly": "Did you purchase any specimens?",
      "guidelines": "Add fields for capturing purchase information. Not required if all specimens are Primary Tissue",
      "type": "string",
      "example": "No",
      "enum": [
        "Yes",
        "No"
      ]
    },
    "experimentInfo": {
      "user_friendly": "Do you wish to record the provenance of the experimental process?",
      "guidelines": "This will add fields for capturing where, when and who performed your experiment.",
      "example": "No",
      "type": "string",
      "enum": [
        "Yes",
        "No"
      ]
    },
    "experimentTimecourse": {
      "user_friendly": "Did your experiment involve a timecourse?",
      "guidelines": "This will add fields for capturing cell suspension timecourse details.",
      "example": "No",
      "type": "string",
      "enum": [
        "Yes",
        "No"
      ]
    },
    "technology": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "description":  "Technology",
      "title":  "Technology",
      "name": "technology",
      "type": "object",
      "required": ["ontologies"],
      "properties": {
        "ontologies": {
          "description": "The general methods used for sequencing library construction in your project.",
          "type": "array",
          "items": {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "https://schema.dev.data.humancellatlas.org/module/ontology/1.2.5/library_construction_ontology",
            "description": "A term that may be associated with a process-related ontology term.",
            "additionalProperties": false,
            "required": [
              "text"
            ],
            "title": "Library construction ontology",
            "name": "library_construction_ontology",
            "type": "object",
            "properties": {
              "text": {
                "description": "The name of a library construction approach being used.",
                "type": "string",
                "user_friendly": "Library construction",
                "example": "10X v2 sequencing; Smart-seq2"
              },
              "ontology": {
                "description": "An ontology term identifier in the form prefix:accession.",
                "type": "string",
                "graph_restriction": {
                  "ontologies": [
                    "obo:efo"
                  ],
                  "classes": [
                    "OBI:0000711"
                  ],
                  "relations": [
                    "rdfs:subClassOf"
                  ],
                  "direct": false,
                  "include_self": false
                },
                "user_friendly": "Library construction ontology ID",
                "example": "EFO:0009310; EFO:0008931"
              },
              "ontology_label": {
                "description": "The preferred label for the ontology term referred to in the ontology field. This may differ from the user-supplied value in the text field.",
                "type": "string",
                "user_friendly": "Library construction ontology label",
                "example": "10X v2 sequencing; Smart-seq2"
              }
            }
          },
          "user_friendly": "Technologies used to generate the data."
        },
        "others": {
          "description": "Other technologies not in the ontologies for technology.",
          "type": "array",
          "items": {
            "type": "string"
          },
          "user_friendly": "Other Technologies",
          "guidelines": "Other technologies not in the options above."
        }
      }
    }
  },
  "required": ["technology"],
  "title": "Spreadsheet Questionnaire",
  "type": "object"
}
