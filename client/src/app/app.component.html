<app-navigation *ngIf="auth.isAuthenticated()"></app-navigation>
<nav *ngIf="!auth.isAuthenticated()" class="navbar navbar-expand-md navbar-dark bg-primary fixed-top">
  <a class="navbar-brand" href="#">Human Cell Atlas</a>
</nav>
<main class="container-fluid">
  <br/>
  <alert></alert>
  <router-outlet>
    <div  *ngIf="showLoader" class="loading">
      <mat-spinner
        class="example-margin"
        [color]="primary"
        [mode]="indeterminate"
        [value]="50">
      </mat-spinner>
    </div>
  </router-outlet>
</main>



<!--TODO: REMOVE this after testing-->
<div>
  <button
    class="btn btn-success btn-margin" (click)="auth.authorize()">
    Login
  </button>
  |
  <button
    class="btn btn-success btn-margin" (click)="auth.authorizeSilently()">
    Refresh Token
  </button>
  |
  <button
    class="btn btn-success btn-margin" (click)="auth.logout()">
    Logout
  </button>
  <div>
    access token:
    <code>
      {{this.auth.getAccessToken()}}
    </code>
  </div>
</div>
